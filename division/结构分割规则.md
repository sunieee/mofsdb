# 结构分割规则

## 1. 分割规则：

<img src="https://images.weserv.nl/?url=gitee.com/sun__ye/gallery/raw/master/img2/20220111205701.png" alt="image-20220111204654697" style="zoom: 67%;" />

## 2. 输入输出文件类型及内容：

输入：MOF.cif，该文件为MOFs结构文件。可视化之后如下图所示：

<img src="https://images.weserv.nl/?url=gitee.com/sun__ye/gallery/raw/master/img2/20220111205659.png" style="zoom: 25%;" /><img src="https://images.weserv.nl/?url=gitee.com/sun__ye/gallery/raw/master/img2/20220111205656.png" alt="image-20220111204754682" style="zoom: 25%;" />

输出：两类cif文件（次级结构单元.cif，配体*.cif）

一类为次级结构单元，如图：

<img src="https://images.weserv.nl/?url=gitee.com/sun__ye/gallery/raw/master/img2/20220111205651.png" alt="image-20220111205003030" style="zoom: 25%;" /><img src="https://images.weserv.nl/?url=gitee.com/sun__ye/gallery/raw/master/img2/20220111205648.png" alt="image-20220111205018152" style="zoom: 25%;" />

另一类为配体，如图：

<img src="https://images.weserv.nl/?url=gitee.com/sun__ye/gallery/raw/master/img2/20220111205645.png" alt="image-20220111205056214" style="zoom: 33%;" />

## 3. 关于cif文件

### 原始cif文件

从CCDC下载之后的**原始cif文件**包含如下字段：见`data`文件夹下任意`MOF.cif`

```bash
loop_
_atom_type_symbol
_atom_type_oxidation_number
Fe0+ 0
O0+ 0
C0+ 0
O0+ 0
loop_
_atom_site_label
_atom_site_type_symbol
_atom_site_symmetry_multiplicity
_atom_site_Wyckoff_symbol
_atom_site_fract_x
_atom_site_fract_y
_atom_site_fract_z
_atom_site_U_iso_or_equiv
_atom_site_occupancy
Fe1 Fe0+ 6 h 0.7706 0.2866 0.25 0. 1.
O1 O0+ 2 d 0.6667 0.3333 0.25 0. 1.
O2 O0+ 12 i 0.5705 0.1919 0.1065 0. 1.
O3 O0+ 12 i 0.6932 0.1478 0.1356 0. 1.
O4 O0+ 6 h 0.9192 0.3046 0.25 0. 1.
O5 O0+ 6 h 0.2545 0.5646 0.25 0. 0.667
C1 C0+ 12 i 0.5934 0.118 0.1113 0. 1.
C2 C0+ 12 i 0.516 0.0088 0.0582 0. 1.
C3 C0+ 6 h 0.4968 -0.1205 0.25 0. 0.333
C4 C0+ 6 h 0.2381 0.6448 0.25 0. 0.333
O6 O0+ 6 h 0.8005 0.0883 0.25 0. 1.
O7 O0+ 2 b 1. 0. 0.25 0. 1.
O8 O0+ 12 i 0.6285 -0.2287 0.0956 0. 1.
O9 O0+ 12 i 0.8752 0.0963 0.0553 0. 1.
O10 O0+ 6 h 0.6841 -0.1212 0.25 0. 1.
#End of TTdata_417747-ICSD
```

这个文件不能直接使用，它包含复杂的对称性信息，需要反解析对称性才能用。

### 解析后cif文件

经Materials Studio（其他的软件或者插件或许也能实现这样的操作。）进行“成键操作”与“P1对称性设置”之后再另存为就变成了这样（不妨称为**解析后cif文件**）：

```bash
# 每一列的列标签
_atom_site_label
_atom_site_type_symbol
_atom_site_fract _x	# fract代表分数坐标
_atom_site_fract_y
_atom_site_fract_z
_atom_site_U_iso_or_equiv
_atom_site_adp_type
_atom_site_occupancy 
# 第一列为原子的编号，第二列为原子符号，第3-第5列为原子坐标信息
O1     O     0.49041   0.14784   0.14882   0.00000  Uiso   1.00
O2     O     0.85216   0.34256   0.14882   0.00000  Uiso   1.00
O3     O     0.65744   0.50959   0.14882   0.00000  Uiso   1.00
O4     O     0.50959   0.85216   0.64882   0.00000  Uiso   1.00
O5     O     0.14784   0.65744   0.64882   0.00000  Uiso   1.00
O6     O     0.34256   0.49041   0.64882   0.00000  Uiso   1.00
O7     O     0.14784   0.49041   0.85118   0.00000  Uiso   1.00
O8     O     0.34256   0.85216   0.85118   0.00000  Uiso   1.00
O9     O     0.50959   0.65744   0.85118   0.00000  Uiso   1.00
O10    O     0.85216   0.50959   0.35118   0.00000  Uiso   1.00
O11    O     0.65744   0.14784   0.35118   0.00000  Uiso   1.00
O12    O     0.49041   0.34256   0.35118   0.00000  Uiso   1.00
O13    O     0.50959   0.85216   0.85118   0.00000  Uiso   1.00
O14    O     0.14784   0.65744   0.85118   0.00000  Uiso   1.00
O15    O     0.34256   0.49041   0.85118   0.00000  Uiso   1.00
O16    O     0.49041   0.14784   0.35118   0.00000  Uiso   1.00
O17    O     0.85216   0.34256   0.35118   0.00000  Uiso   1.00
O18    O     0.65744   0.50959   0.35118   0.00000  Uiso   1.00
O19    O     0.85216   0.50959   0.14882   0.00000  Uiso   1.00
O20    O     0.65744   0.14784   0.14882   0.00000  Uiso   1.00
O21    O     0.49041   0.34256   0.14882   0.00000  Uiso   1.00
O22    O     0.14784   0.49041   0.64882   0.00000  Uiso   1.00
O23    O     0.34256   0.85216   0.64882   0.00000  Uiso   1.00
O24    O     0.50959   0.65744   0.64882   0.00000  Uiso   1.00
C25    C     0.55725   0.11450   0.11526   0.00000  Uiso   1.00
C26    C     0.51693   0.03386   0.03412   0.00000  Uiso   1.00
C27    C     0.88550   0.44275   0.11526   0.00000  Uiso   1.00
C28    C     0.96614   0.48307   0.03412   0.00000  Uiso   1.00
C29    C     0.55725   0.44275   0.11526   0.00000  Uiso   1.00
C30    C     0.51693   0.48307   0.03412   0.00000  Uiso   1.00
C31    C     0.44275   0.88550   0.61526   0.00000  Uiso   1.00
C32    C     0.48307   0.96614   0.53412   0.00000  Uiso   1.00
C33    C     0.11450   0.55725   0.61526   0.00000  Uiso   1.00
C34    C     0.03386   0.51693   0.53412   0.00000  Uiso   1.00
C35    C     0.44275   0.55725   0.61526   0.00000  Uiso   1.00
C36    C     0.48307   0.51693   0.53412   0.00000  Uiso   1.00
C37    C     0.11450   0.55725   0.88474   0.00000  Uiso   1.00
C38    C     0.03386   0.51693   0.96588   0.00000  Uiso   1.00
C39    C     0.44275   0.88550   0.88474   0.00000  Uiso   1.00
C40    C     0.48307   0.96614   0.96588   0.00000  Uiso   1.00
C41    C     0.44275   0.55725   0.88474   0.00000  Uiso   1.00
C42    C     0.48307   0.51693   0.96588   0.00000  Uiso   1.00
C43    C     0.88550   0.44275   0.38474   0.00000  Uiso   1.00
C44    C     0.96614   0.48307   0.46588   0.00000  Uiso   1.00
C45    C     0.55725   0.11450   0.38474   0.00000  Uiso   1.00
C46    C     0.51693   0.03386   0.46588   0.00000  Uiso   1.00
C47    C     0.55725   0.44275   0.38474   0.00000  Uiso   1.00
C48    C     0.51693   0.48307   0.46588   0.00000  Uiso   1.00
Fe49   Fe    0.75091   0.24909   0.25000   0.00000  Uiso   1.00
O50    O     0.83325   0.16675   0.25000   0.00000  Uiso   1.00
Fe51   Fe    0.75091   0.50183   0.25000   0.00000  Uiso   1.00
O52    O     0.83325   0.66651   0.25000   0.00000  Uiso   1.00
Fe53   Fe    0.49817   0.24909   0.25000   0.00000  Uiso   1.00
O54    O     0.33349   0.16675   0.25000   0.00000  Uiso   1.00
Fe55   Fe    0.24909   0.75091   0.75000   0.00000  Uiso   1.00
O56    O     0.16675   0.83325   0.75000   0.00000  Uiso   1.00
Fe57   Fe    0.24909   0.49817   0.75000   0.00000  Uiso   1.00
O58    O     0.16675   0.33349   0.75000   0.00000  Uiso   1.00
Fe59   Fe    0.50183   0.75091   0.75000   0.00000  Uiso   1.00
O60    O     0.66651   0.83325   0.75000   0.00000  Uiso   1.00
O61    O     0.66667   0.33333   0.25000   0.00000  Uiso   1.00
O62    O     0.33333   0.66667   0.75000   0.00000  Uiso   1.00 
loop_
# 列标签
_geom_bond_atom_site_label_1
_geom_bond_atom_site_label_2
_geom_bond_distance
_geom_bond_site_symmetry_2
_ccdc_geom_bond_type 
# 前两列为成键的两个原子的编号，第三列为键长，最后一列为键的类型，“S”代表单键；“D”代表双键；“A”代表芳香键。
O1     C25     1.265   .     D
O1     Fe53    1.883   .     S
O2     C27     1.265   .     D
O2     Fe49    1.883   .     S
O3     C29     1.265   .     D
O3     Fe51    1.883   .     S
O4     C31     1.265   .     D
O4     Fe59    1.883   .     S
O5     C33     1.265   .     D
O5     Fe55    1.883   .     S
O6     C35     1.265   .     D
O6     Fe57    1.883   .     S
O7     C37     1.265   .     D
O7     Fe57    1.883   .     S
O8     C39     1.265   .     D
O8     Fe55    1.883   .     S
O9     C41     1.265   .     D
O9     Fe59    1.883   .     S
O10    C43     1.265   .     D
O10    Fe51    1.883   .     S
O11    C45     1.265   .     D
O11    Fe49    1.883   .     S
O12    C47     1.265   .     D
O12    Fe53    1.883   .     S
O13    C39     1.265   .     D
O13    Fe59    1.883   .     S
O14    C37     1.265   .     D
O14    Fe55    1.883   .     S
O15    C41     1.265   .     D
O15    Fe57    1.883   .     S
O16    C45     1.265   .     D
O16    Fe53    1.883   .     S
O17    C43     1.265   .     D
O17    Fe49    1.883   .     S
O18    C47     1.265   .     D
O18    Fe51    1.883   .     S
O19    C27     1.265   .     D
O19    Fe51    1.883   .     S
O20    C25     1.265   .     D
O20    Fe49    1.883   .     S
O21    C29     1.265   .     D
O21    Fe53    1.883   .     S
O22    C33     1.265   .     D
O22    Fe57    1.883   .     S
O23    C31     1.265   .     D
O23    Fe55    1.883   .     S
O24    C35     1.265   .     D
O24    Fe59    1.883   .     S
C25    C26     1.434   .     S
C26    C40     1.205   1_544 T
C27    C28     1.434   .     S
C28    C38     1.205   1_654 T
C29    C30     1.434   .     S
C30    C42     1.205   1_554 T
C31    C32     1.434   .     S
C32    C46     1.205   1_565 T
C33    C34     1.434   .     S
C34    C44     1.205   1_455 T
C35    C36     1.434   .     S
C36    C48     1.205   .     T
C37    C38     1.434   .     S
C38    C28     1.205   1_456 T
C39    C40     1.434   .     S
C40    C26     1.205   1_566 T
C41    C42     1.434   .     S
C42    C30     1.205   1_556 T
C43    C44     1.434   .     S
C44    C34     1.205   1_655 T
C45    C46     1.434   .     S
C46    C32     1.205   1_545 T
C47    C48     1.434   .     S
Fe49   O50     1.908   .     S
Fe49   O61     1.952   .     S
Fe51   O52     1.908   .     S
Fe51   O61     1.952   .     S
Fe53   O54     1.908   .     S
Fe53   O61     1.952   .     S
Fe55   O56     1.908   .     S
Fe55   O62     1.952   .     S
Fe57   O58     1.908   .     S
Fe57   O62     1.952   .     S
Fe59   O60     1.908   .     S
Fe59   O62     1.952   .     S 
```


